<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twistar.dbobject.DBObject : API documentation</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    <script src="sorttable.js" type="text/javascript"></script>
    <script src="pydoctor.js" type="text/javascript"></script>
  </head>
  <body>
    <h1 class="class">t.d.DBObject(<a href="twistar.validation.Validator.html">Validator</a>) : class documentation</h1>
    <p>
      <span id="part">Part of <a href="twistar.html">twistar</a>.<a href="twistar.dbobject.html">dbobject</a></span>
      
      <a href="classIndex.html#twistar.dbobject.DBObject">View In Hierarchy</a>
    </p>
    <div>
      <p>Known subclasses: <a href="twistar.tests.utils.Avatar.html">twistar.tests.utils.Avatar</a>, <a href="twistar.tests.utils.Blogpost.html">twistar.tests.utils.Blogpost</a>, <a href="twistar.tests.utils.Boy.html">twistar.tests.utils.Boy</a><span class="hideIfJS" id="moreSubclasses">, <a href="twistar.tests.utils.Category.html">twistar.tests.utils.Category</a>, <a href="twistar.tests.utils.Coltest.html">twistar.tests.utils.Coltest</a>, <a href="twistar.tests.utils.FakeObject.html">twistar.tests.utils.FakeObject</a>, <a href="twistar.tests.utils.FavoriteColor.html">twistar.tests.utils.FavoriteColor</a>, <a href="twistar.tests.utils.Girl.html">twistar.tests.utils.Girl</a>, <a href="twistar.tests.utils.Nickname.html">twistar.tests.utils.Nickname</a>, <a href="twistar.tests.utils.Picture.html">twistar.tests.utils.Picture</a>, <a href="twistar.tests.utils.User.html">twistar.tests.utils.User</a><span class="showIfJS"> <a href="#" class="jslink" onclick="showAndHide('moreSubclasses');">(hide last 8 again)</a></span></span><span class="showIfJS" id="moreSubclassesLink"> <a href="#" class="jslink" onclick="hideAndShow('moreSubclasses');">... and 8 more</a></span></p>
    </div>
    <pre>A base class for representing objects stored in a RDBMS.

@cvar HASMANY: A C{list} made up of some number of strings and C{dict}s.  If an element is a string,
it represents what the class has many of, for instance C{'users'}.  If an element is a C{dict}, then
it should minimally have a C{name} attribute (with a value the same as if the element were a string)
and then any additional options.  See L{Relationship} and L{HasMany} for more information.

@cvar HASONE: A C{list} made up of some number of strings and C{dict}s.  If an element is a string,
it represents what the class has one of, for instance C{'location'}.  If an element is a C{dict}, then
it should minimally have a C{name} attribute (with a value the same as if the element were a string)
and then any additional options.  See L{Relationship} and L{HasOne} for more information.

@cvar HABTM: A C{list} made up of some number of strings and C{dict}s.  If an element is a string,
it represents what the class has many of (and which in turn has many of this current object type),
for instance a teacher has and belongs to many students.  Both the C{Student} and C{Teacher} classes
should have a class variable that is C{HABTM = ['teachers']} and C{HABTM = ['students']}, respectively.
If an element is a C{dict}, then
it should minimally have a C{name} attribute (with a value the same as if the element were a string)
and then any additional options.  See L{Relationship} and L{HABTM} for more information.    

@cvar BELONGSTO: A C{list} made up of some number of strings and C{dict}s.  If an element is a string,
it represents what the class belongs to, for instance C{'user'}.  If an element is a C{dict}, then
it should minimally have a C{name} attribute (with a value the same as if the element were a string)
and then any additional options.  See L{Relationship} and L{BelongsTo} for more information.

@cvar TABLENAME: If specified, use the given tablename as the one for this object.  Otherwise,
use the lowercase, plural version of this class's name.  See the L{DBObject.tablename}
method.

@see: L{Relationship}, L{HasMany}, L{HasOne}, L{HABTM}, L{BelongsTo}</pre>

    <p>
      <a href="#" id="showSplitLink" onclick="showSplit()" class="jslink">Split Table into Classes</a>
      <a href="#" id="showBigLink" onclick="showBig()" class="jslink">Show Methods in One Table</a>
    </p>
    
    <div id="splitTables">
      <table class="children sortable" id="id23">
  
  <tr>
    <th>Line #</th>
    <th>Kind</th>
    <th>Name</th>
    <th>Docs</th>
  </tr>
<tr class="method">
    
    <td class="lineno">61</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#__init__">__init__</a></td>
    <td><tt>Constructor.  DO NOT OVERWRITE.  Use the L{DBObject.afterInit} method.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">80</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#updateAttrs">updateAttrs</a></td>
    <td><tt>Set the attributes of this object based on the given C{dict}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">91</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#save">save</a></td>
    <td><tt>Save this object to the database.  Validation is performed first; if the validation fails (that is, if C{obj.errors.isEmpty()} is False) then the object will not be saved.  To test for errors, use C{obj.errors.isEmpty()}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">114</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#validate">validate</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td class="lineno">124</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#isValid">isValid</a></td>
    <td><tt>This method first calls L{validate} and then returns a deferred that returns True if there were no errors and False otherwise.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">134</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#beforeCreate">beforeCreate</a></td>
    <td><tt>Method called before a new object is created.  Classes can overwrite this method. If False is returned, then the object is not saved in the database.  This method may return a C{Deferred}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">142</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#beforeUpdate">beforeUpdate</a></td>
    <td><tt>Method called before an existing object is updated.  Classes can overwrite this method. If False is returned, then the object is not saved in the database.  This method may return a C{Deferred}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">150</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#beforeSave">beforeSave</a></td>
    <td><tt>Method called before an object is saved.  Classes can overwrite this method. If False is returned, then the object is not saved in the database.  This method may return a C{Deferred}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">161</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#afterInit">afterInit</a></td>
    <td><tt>Method called when a new L{DBObject} is instantiated.  Classes can overwrite this method. This method may return a C{Deferred}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">168</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#beforeDelete">beforeDelete</a></td>
    <td><tt>Method called before a L{DBObject} is deleted.  Classes can overwrite this method. If False is returned, then the L{DBObject} is not deleted from database. This method may return a C{Deferred}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">222</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#refresh">refresh</a></td>
    <td><tt>Update the properties for this object from the database.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">231</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#toHash">toHash</a></td>
    <td><tt>Convert this object to a dictionary.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">257</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#delete">delete</a></td>
    <td><tt>Delete this instance from the database.  Calls L{beforeDelete} before deleting from the database.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">284</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#loadRelations">loadRelations</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">313</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#addRelation">addRelation</a></td>
    <td><tt>Add a relationship to the given Class.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">342</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#initRelationshipCache">initRelationshipCache</a></td>
    <td><tt>Initialize the cache of relationship objects for this class.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">353</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#tablename">tablename</a></td>
    <td><tt>Get the tablename for the given class.  If the class has a C{TABLENAME} variable then that will be used - otherwise, it is is inferred from the class name.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">368</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#findOrCreate">findOrCreate</a></td>
    <td><tt>Find all instances of a given class based on the attributes given (just like C{findBy}).</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">382</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#findBy">findBy</a></td>
    <td><tt>Find all instances of the given class based on an exact match of attributes.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">396</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#find">find</a></td>
    <td><tt>Find instances of a given class.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">428</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#count">count</a></td>
    <td><tt>Count instances of a given class.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">444</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#all">all</a></td>
    <td><tt>Get all instances of the given class in the database.  Note that this is the equivalent of calling L{find} with no arguments.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">456</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#deleteAll">deleteAll</a></td>
    <td><tt>Delete all instances of C{klass} in the database.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">471</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#exists">exists</a></td>
    <td><tt>Find whether or not at least one instance of the given C{klass} exists, optionally with specific conditions specified in C{where}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">487</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#__str__">__str__</a></td>
    <td><tt>Get the string version of this object.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">499</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#__getattribute__">__getattribute__</a></td>
    <td><tt>Get the given attribute.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">518</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#__eq__">__eq__</a></td>
    <td><tt>Determine if this object is the same as another (only taking the type of the other class and it's C{id} into account).</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">532</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#__neq__">__neq__</a></td>
    <td><tt>Determine if this object is not the same as another (only taking the type of the other class and it's C{id} into account).</tt></td>
  </tr><tr class="method private">
    
    <td class="lineno">176</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#_create">_create</a></td>
    <td><tt>Method to actually create an object in the DB.  Handles calling this class's L{beforeCreate} followed by it's L{beforeSave} method.</tt></td>
  </tr><tr class="method private">
    
    <td class="lineno">199</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#_update">_update</a></td>
    <td><tt>Method to actually save an existing object in the DB.  Handles calling this class's L{beforeUpdate} and L{beforeSave} methods.</tt></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="twistar.validation.Validator.html">Validator</a>:
        </p>
        <table class="children sortable" id="id24">
  
  <tr>
    <th>Line #</th>
    <th>Kind</th>
    <th>Name</th>
    <th>Docs</th>
  </tr>
<tr class="baseclassmethod">
    
    <td class="lineno">95</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#clearValidations">clearValidations</a></td>
    <td><tt>Clear the given class's validations.</tt></td>
  </tr><tr class="baseclassmethod">
    
    <td class="lineno">103</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#addValidator">addValidator</a></td>
    <td><tt>Add a function to the given classes validation list.</tt></td>
  </tr><tr class="baseclassmethod">
    
    <td class="lineno">121</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#validatesPresenceOf">validatesPresenceOf</a></td>
    <td><tt>A validator to test whether or not some named properties are set. For those named properties that are not set, an error will be recorded in C{obj.errors}.</tt></td>
  </tr><tr class="baseclassmethod">
    
    <td class="lineno">137</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#validatesUniquenessOf">validatesUniquenessOf</a></td>
    <td><tt>A validator to test whether or not some named properties are unique. For those named properties that are not unique, an error will be recorded in C{obj.errors}.</tt></td>
  </tr><tr class="baseclassmethod">
    
    <td class="lineno">153</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#validatesLengthOf">validatesLengthOf</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="baseclassmethod private">
    
    <td class="lineno">175</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#_validate">_validate</a></td>
    <td><tt>Validate a given object using all of the set validators for the objects class. If errors are found, they will be recorded in the objects C{errors} property.</tt></td>
  </tr>
  
</table>
      
      
    </div>
    <div id="bigTable">
    <table class="children sortable" id="id25">
  
  <tr>
    <th>Line #</th>
    <th>Kind</th>
    <th>Name</th>
    <th>Docs</th>
  </tr>
<tr class="method">
    
    <td class="lineno">518</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#__eq__">__eq__</a></td>
    <td><tt>Determine if this object is the same as another (only taking the type of the other class and it's C{id} into account).</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">499</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#__getattribute__">__getattribute__</a></td>
    <td><tt>Get the given attribute.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">61</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#__init__">__init__</a></td>
    <td><tt>Constructor.  DO NOT OVERWRITE.  Use the L{DBObject.afterInit} method.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">532</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#__neq__">__neq__</a></td>
    <td><tt>Determine if this object is not the same as another (only taking the type of the other class and it's C{id} into account).</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">487</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#__str__">__str__</a></td>
    <td><tt>Get the string version of this object.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">313</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#addRelation">addRelation</a></td>
    <td><tt>Add a relationship to the given Class.</tt></td>
  </tr><tr class="baseclassmethod">
    
    <td class="lineno">103</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#addValidator">addValidator</a></td>
    <td><tt>Add a function to the given classes validation list.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">161</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#afterInit">afterInit</a></td>
    <td><tt>Method called when a new L{DBObject} is instantiated.  Classes can overwrite this method. This method may return a C{Deferred}.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">444</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#all">all</a></td>
    <td><tt>Get all instances of the given class in the database.  Note that this is the equivalent of calling L{find} with no arguments.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">134</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#beforeCreate">beforeCreate</a></td>
    <td><tt>Method called before a new object is created.  Classes can overwrite this method. If False is returned, then the object is not saved in the database.  This method may return a C{Deferred}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">168</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#beforeDelete">beforeDelete</a></td>
    <td><tt>Method called before a L{DBObject} is deleted.  Classes can overwrite this method. If False is returned, then the L{DBObject} is not deleted from database. This method may return a C{Deferred}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">150</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#beforeSave">beforeSave</a></td>
    <td><tt>Method called before an object is saved.  Classes can overwrite this method. If False is returned, then the object is not saved in the database.  This method may return a C{Deferred}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">142</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#beforeUpdate">beforeUpdate</a></td>
    <td><tt>Method called before an existing object is updated.  Classes can overwrite this method. If False is returned, then the object is not saved in the database.  This method may return a C{Deferred}.</tt></td>
  </tr><tr class="baseclassmethod">
    
    <td class="lineno">95</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#clearValidations">clearValidations</a></td>
    <td><tt>Clear the given class's validations.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">428</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#count">count</a></td>
    <td><tt>Count instances of a given class.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">257</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#delete">delete</a></td>
    <td><tt>Delete this instance from the database.  Calls L{beforeDelete} before deleting from the database.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">456</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#deleteAll">deleteAll</a></td>
    <td><tt>Delete all instances of C{klass} in the database.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">471</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#exists">exists</a></td>
    <td><tt>Find whether or not at least one instance of the given C{klass} exists, optionally with specific conditions specified in C{where}.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">396</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#find">find</a></td>
    <td><tt>Find instances of a given class.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">382</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#findBy">findBy</a></td>
    <td><tt>Find all instances of the given class based on an exact match of attributes.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">368</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#findOrCreate">findOrCreate</a></td>
    <td><tt>Find all instances of a given class based on the attributes given (just like C{findBy}).</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">342</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#initRelationshipCache">initRelationshipCache</a></td>
    <td><tt>Initialize the cache of relationship objects for this class.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">124</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#isValid">isValid</a></td>
    <td><tt>This method first calls L{validate} and then returns a deferred that returns True if there were no errors and False otherwise.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">284</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#loadRelations">loadRelations</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td class="lineno">222</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#refresh">refresh</a></td>
    <td><tt>Update the properties for this object from the database.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">91</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#save">save</a></td>
    <td><tt>Save this object to the database.  Validation is performed first; if the validation fails (that is, if C{obj.errors.isEmpty()} is False) then the object will not be saved.  To test for errors, use C{obj.errors.isEmpty()}.</tt></td>
  </tr><tr class="classmethod">
    
    <td class="lineno">353</td>
    <td>Class Method</td>
    <td><a href="twistar.dbobject.DBObject.html#tablename">tablename</a></td>
    <td><tt>Get the tablename for the given class.  If the class has a C{TABLENAME} variable then that will be used - otherwise, it is is inferred from the class name.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">231</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#toHash">toHash</a></td>
    <td><tt>Convert this object to a dictionary.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">80</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#updateAttrs">updateAttrs</a></td>
    <td><tt>Set the attributes of this object based on the given C{dict}.</tt></td>
  </tr><tr class="method">
    
    <td class="lineno">114</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#validate">validate</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="baseclassmethod">
    
    <td class="lineno">153</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#validatesLengthOf">validatesLengthOf</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="baseclassmethod">
    
    <td class="lineno">121</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#validatesPresenceOf">validatesPresenceOf</a></td>
    <td><tt>A validator to test whether or not some named properties are set. For those named properties that are not set, an error will be recorded in C{obj.errors}.</tt></td>
  </tr><tr class="baseclassmethod">
    
    <td class="lineno">137</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#validatesUniquenessOf">validatesUniquenessOf</a></td>
    <td><tt>A validator to test whether or not some named properties are unique. For those named properties that are not unique, an error will be recorded in C{obj.errors}.</tt></td>
  </tr><tr class="method private">
    
    <td class="lineno">176</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#_create">_create</a></td>
    <td><tt>Method to actually create an object in the DB.  Handles calling this class's L{beforeCreate} followed by it's L{beforeSave} method.</tt></td>
  </tr><tr class="method private">
    
    <td class="lineno">199</td>
    <td>Method</td>
    <td><a href="twistar.dbobject.DBObject.html#_update">_update</a></td>
    <td><tt>Method to actually save an existing object in the DB.  Handles calling this class's L{beforeUpdate} and L{beforeSave} methods.</tt></td>
  </tr><tr class="baseclassmethod private">
    
    <td class="lineno">175</td>
    <td>Class Method</td>
    <td><a href="twistar.validation.Validator.html#_validate">_validate</a></td>
    <td><tt>Validate a given object using all of the set validators for the objects class. If errors are found, they will be recorded in the objects C{errors} property.</tt></td>
  </tr>
  
</table></div>
    
    

    <div class="function">
  <a name="twistar.dbobject.DBObject.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, **kwargs):
    
  </div>
  <div class="functionBody">
    
    <pre>Constructor.  DO NOT OVERWRITE.  Use the L{DBObject.afterInit} method.

@param kwargs: An optional dictionary containing the properties that
should be initially set for this object.

@see: L{DBObject.afterInit}</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.updateAttrs">
    
  </a>
  <a name="updateAttrs">
    
  </a>
  <div class="functionHeader">
    
    def
    updateAttrs(self, kwargs):
    
  </div>
  <div class="functionBody">
    
    <pre>Set the attributes of this object based on the given C{dict}.

@param kwargs: A C{dict} whose keys will be turned into properties and whose values
will then be assigned to those properties.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.save">
    
  </a>
  <a name="save">
    
  </a>
  <div class="functionHeader">
    
    def
    save(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Save this object to the database.  Validation is performed first; if the
validation fails (that is, if C{obj.errors.isEmpty()} is False) then the
object will not be saved.  To test for errors, use C{obj.errors.isEmpty()}.

@return: A C{Deferred} object.  If a callback is added to that deferred
the value of the saved (or unsaved if there are errors) object will be returned.

@see: L{Validator}, L{Errors}</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.validate">
    
  </a>
  <a name="validate">
    
  </a>
  <div class="functionHeader">
    
    def
    validate(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Run all validations associated with this object's class.  This will return a deferred
(actually a C{DeferredList}).  When this deferred is finished, this object's errors
dictionary property will either be empty or will contain the errors from this object
(keys are property names, values are the error messages describing the error).</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.isValid">
    
  </a>
  <a name="isValid">
    
  </a>
  <div class="functionHeader">
    
    def
    isValid(self):
    
  </div>
  <div class="functionBody">
    
    <pre>This method first calls L{validate} and then returns a deferred that returns True if
there were no errors and False otherwise.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.beforeCreate">
    
  </a>
  <a name="beforeCreate">
    
  </a>
  <div class="functionHeader">
    
    def
    beforeCreate(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Method called before a new object is created.  Classes can overwrite this method.
If False is returned, then the object is not saved in the database.  This method
may return a C{Deferred}.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.beforeUpdate">
    
  </a>
  <a name="beforeUpdate">
    
  </a>
  <div class="functionHeader">
    
    def
    beforeUpdate(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Method called before an existing object is updated.  Classes can overwrite this method.
If False is returned, then the object is not saved in the database.  This method
may return a C{Deferred}.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.beforeSave">
    
  </a>
  <a name="beforeSave">
    
  </a>
  <div class="functionHeader">
    
    def
    beforeSave(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Method called before an object is saved.  Classes can overwrite this method.
If False is returned, then the object is not saved in the database.  This method
may return a C{Deferred}.

This method is called after L{beforeCreate} when an object is being created, and after
L{beforeUpdate} when an existing object (whose C{id} is not C{None}) is being saved.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.afterInit">
    
  </a>
  <a name="afterInit">
    
  </a>
  <div class="functionHeader">
    
    def
    afterInit(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Method called when a new L{DBObject} is instantiated.  Classes can overwrite this method.
This method may return a C{Deferred}.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.beforeDelete">
    
  </a>
  <a name="beforeDelete">
    
  </a>
  <div class="functionHeader">
    
    def
    beforeDelete(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Method called before a L{DBObject} is deleted.  Classes can overwrite this method.
If False is returned, then the L{DBObject} is not deleted from database.
This method may return a C{Deferred}.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject._create">
    
  </a>
  <a name="_create">
    
  </a>
  <div class="functionHeader">
    
    def
    _create(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Method to actually create an object in the DB.  Handles calling this class's
L{beforeCreate} followed by it's L{beforeSave} method.

@return: A C{Deferred} object.  If a callback is added to that deferred
the value of the saved object will be returned (unless the L{beforeCreate}
or L{beforeSave} methods returns C{False}, in which case the unsaved object
will be returned).</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject._update">
    
  </a>
  <a name="_update">
    
  </a>
  <div class="functionHeader">
    
    def
    _update(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Method to actually save an existing object in the DB.  Handles calling this class's
L{beforeUpdate} and L{beforeSave} methods.

@return: A C{Deferred} object.  If a callback is added to that deferred
the value of the saved object will be returned (unless the L{beforeUpdate}
or L{beforeSave} methods returns C{False}, in which case the unsaved
object will be returned).</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.refresh">
    
  </a>
  <a name="refresh">
    
  </a>
  <div class="functionHeader">
    
    def
    refresh(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Update the properties for this object from the database.

@return: A C{Deferred} object.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.toHash">
    
  </a>
  <a name="toHash">
    
  </a>
  <div class="functionHeader">
    
    def
    toHash(self, cols, includeBlank=False, exclude=None, base=None):
    
  </div>
  <div class="functionBody">
    
    <pre>Convert this object to a dictionary.

@param includeBlank: Boolean representing whether or not properties that
have not been set should be included (the initial property list is retrieved
from the schema of the database for the given class's schema).

@param exclue: A C{list} of properties to ignore when creating the C{dict} to
return.

@param base: An initial base C{dict} to add this objects properties to.

@return: A C{dict} formed from the properties and values of this object.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.delete">
    
  </a>
  <a name="delete">
    
  </a>
  <div class="functionHeader">
    
    def
    delete(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Delete this instance from the database.  Calls L{beforeDelete} before deleting from
the database.

@return: A C{Deferred}.        </pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.loadRelations">
    
  </a>
  <a name="loadRelations">
    
  </a>
  <div class="functionHeader">
    
    def
    loadRelations(self, *relations):
    
  </div>
  <div class="functionBody">
    
    <pre>Preload a a list of relationships.  For instance, if you have an instance of an
object C{User} (named C{user}) that has many C{Address}es and has one C{Avatar},
you could call C{user.loadRelations('addresses', 'avatar').addCallback('handleUser')}
instead of having to call C{user.addresses.get()} and C{user.avatar.get()} and assign
callbacks to the results of those calls.  In the first case, the function C{handleUser}
would accept one argument, which will be a dictionary whose keys are the property names
and whose values are the results of the C{get()} calls.  This just makes it easier to
load multiple properties at once, without having to create a long list of callbacks.

If the method is called without any arguments, then all relations will loaded.

@return: A C{Deferred}.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.addRelation">
    
  </a>
  <a name="addRelation">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    def
    addRelation(klass, relation, rtype):
    
  </div>
  <div class="functionBody">
    
    <pre>Add a relationship to the given Class.

@param klass: The class extending this one.

@param relation: Either a string with the name of property to create
for this class or a dictionary decribing the relationship.  For instance,
if a User L{HasMany} Pictures then the relation could either by 'pictures'
or a dictionary with at least one "name" key, as in
C{{'name': 'pictures', ...}} along with other options.

@param rtype: The relationship type.  It should be a key value from
the C{TYPES} class variable in the class L{Relationship}.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.initRelationshipCache">
    
  </a>
  <a name="initRelationshipCache">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    def
    initRelationshipCache(klass):
    
  </div>
  <div class="functionBody">
    
    <pre>Initialize the cache of relationship objects for this class.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.tablename">
    
  </a>
  <a name="tablename">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    def
    tablename(klass):
    
  </div>
  <div class="functionBody">
    
    <pre>Get the tablename for the given class.  If the class has a C{TABLENAME}
variable then that will be used - otherwise, it is is inferred from the
class name.

@param klass: The class to get the tablename for.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.findOrCreate">
    
  </a>
  <a name="findOrCreate">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    def
    findOrCreate(klass, **attrs):
    
  </div>
  <div class="functionBody">
    
    <pre>Find all instances of a given class based on the attributes given (just like C{findBy}).

If a match isn't found, create a new instance and return that.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.findBy">
    
  </a>
  <a name="findBy">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    def
    findBy(klass, **attrs):
    
  </div>
  <div class="functionBody">
    
    <pre>Find all instances of the given class based on an exact match of attributes.

For instance:
C{User.find(first_name='Bob', last_name='Smith')}

Will return all matches.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.find">
    
  </a>
  <a name="find">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    def
    find(klass, id=None, where=None, group=None, limit=None, orderby=None):
    
  </div>
  <div class="functionBody">
    
    <pre>Find instances of a given class.

@param id: The integer of the C{klass} to find.  For instance, C{Klass.find(1)}
will return an instance of Klass from the row with an id of 1 (unless it isn't
found, in which case C{None} is returned).

@param where: A C{list} whose first element is the string version of the
condition with question marks in place of any parameters.  Further elements
of the C{list} should be the values of any parameters specified.  For instance,
C{['first_name = ? AND age &gt; ?', 'Bob', 21]}.

@param group: A C{str} describing the grouping, like C{group='first_name'}.

@param limit: An C{int} specifying the limit of the results.  If this is 1,
then the return value will be either an instance of C{klass} or C{None}.

@param orderby: A C{str} describing the ordering, like C{orderby='first_name DESC'}.        

@return: A C{Deferred} which returns the following to a callback:
If id is specified (or C{limit} is 1) then a single
instance of C{klass} will be returned if one is found that fits the criteria, C{None}
otherwise.  If id is not specified and C{limit} is not 1, then a C{list} will
be returned with all matching results.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.count">
    
  </a>
  <a name="count">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    def
    count(klass, where=None):
    
  </div>
  <div class="functionBody">
    
    <pre>Count instances of a given class.

@param where: An optional C{list} whose first element is the string version of the
condition with question marks in place of any parameters.  Further elements
of the C{list} should be the values of any parameters specified.  For instance,
C{['first_name = ? AND age &gt; ?', 'Bob', 21]}.

@return: A C{Deferred} which returns the total number of db records to a callback.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.all">
    
  </a>
  <a name="all">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    def
    all(klass):
    
  </div>
  <div class="functionBody">
    
    <pre>Get all instances of the given class in the database.  Note that this is the
equivalent of calling L{find} with no arguments.

@return: A C{Deferred} which returns the following to a callback:
A C{list} containing all of the instances in the database.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.deleteAll">
    
  </a>
  <a name="deleteAll">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    def
    deleteAll(klass, where=None):
    
  </div>
  <div class="functionBody">
    
    <pre>Delete all instances of C{klass} in the database.

@param where: Conditionally delete instances.  This parameter is of the same form
found in L{find}.

@return: A C{Deferred}.        </pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.exists">
    
  </a>
  <a name="exists">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    def
    exists(klass, where=None):
    
  </div>
  <div class="functionBody">
    
    <pre>Find whether or not at least one instance of the given C{klass} exists, optionally
with specific conditions specified in C{where}.

@param where: Conditionally find instances.  This parameter is of the same form
found in L{find}.

@return: A C{Deferred} which returns the following to a callback:
A boolean as to whether or not at least one object was found.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.__str__">
    
  </a>
  <a name="__str__">
    
  </a>
  <div class="functionHeader">
    
    def
    __str__(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Get the string version of this object.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.__getattribute__">
    
  </a>
  <a name="__getattribute__">
    
  </a>
  <div class="functionHeader">
    
    def
    __getattribute__(self, name):
    
  </div>
  <div class="functionBody">
    
    <pre>Get the given attribute.

@param name: The name of the property to get.

@return: If the name is a relationship based property, then a
L{Relationship} instance will be returned.  Otherwise the set property
of the class will be returned.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.__eq__">
    
  </a>
  <a name="__eq__">
    
  </a>
  <div class="functionHeader">
    
    def
    __eq__(self, other):
    
  </div>
  <div class="functionBody">
    
    <pre>Determine if this object is the same as another (only taking
the type of the other class and it's C{id} into account).

@param other: The other object to compare this one to.

@return: A boolean.</pre>
  </div>
</div><div class="function">
  <a name="twistar.dbobject.DBObject.__neq__">
    
  </a>
  <a name="__neq__">
    
  </a>
  <div class="functionHeader">
    
    def
    __neq__(self, other):
    
  </div>
  <div class="functionBody">
    
    <pre>Determine if this object is not the same as another (only taking
the type of the other class and it's C{id} into account).

@param other: The other object to compare this one to.

@return: A boolean.</pre>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for <a href="http://findingscience.com/twistar">twistar</a>, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2012-05-22 19:41:29.
    </address>
  </body>
</html>